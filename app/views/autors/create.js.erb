<% if @autor.errors.empty? %>
$("#autor-modal").modal("hide");
//$(".select-autors").val(<%= @autor.id %>); //
$(".select-autors").replaceWith('<%= j render "books/autor_collections" %>'); //refresh collection

setInput(<%= @autor.id %>); //set the new autor by default

$( "#combobox" ).combobox();
addClassesInput();

<% else %>
alert(" <%= @autor.errors.full_messages[0] %>");
<% end %>

/*------------------------Functions:---------------------*/

//function to set the selected value as default
function setInput(defValue) {
	$('#combobox option').each(function () {
		if (($(this).attr('value')) == defValue) {
			$(this).attr('selected', 'selected');
		}
	});
}

function addClassesInput(){ //hay una copia en application.js
		$( ".custom-combobox a" ).addClass("input-group-addon dropdown-toggle btn btn-outline-secondary dropdown-toggle dropdown-toggle-split");
		$(".custom-combobox input").addClass("form-control");
		$(".custom-combobox").addClass("input-group");	
	}